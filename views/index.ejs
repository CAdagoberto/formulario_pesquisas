<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Formulário de Pesquisa</title>
  <style>
    label {
      font-size: 17px;
    }
  </style>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
    rel="stylesheet"
    crossorigin="anonymous"
  />
  <script src="https://unpkg.com/imask"></script>  
</head>
<body>
  <div class="container mt-5">
    <div class="mb-4 d-flex justify-content-between align-items-center">
      <h1 class="text-center">Formulário de Pesquisa!</h1>
      <a href="/pesquisas" class="btn btn-dark">Verificar dados</a>
    </div>
    <hr>

    <form action="/salvar" method="POST" class="mb-5">
      <div class="mb-4">
        <label class="form-label"><strong>Nome:</strong></label>
        <input class="form-control" type="text" name="nome" placeholder="Digite seu nome completo" required>
      </div>

      <div class="mb-4">
        <label class="form-label"><strong>Nome da empresa: (opcional)</strong></label>
        <input class="form-control" type="text" name="nome_empresa" placeholder="Digite o nome da empresa">
      </div>

      <div class="mb-4">
        <label class="form-label"><strong>Idade:</strong></label>
        <input class="form-control" type="number" name="idade" placeholder="Digite sua idade" required>
      </div>

      <div class="mb-4">
        <label class="form-label"><strong>Telefone:</strong></label>
        <input class="form-control" id="telefone" name="telefone" placeholder="(DDD) 99999-9999" required>
      </div>

      <div class="mb-4">
        <label class="form-label"><strong>Endereço:</strong></label>
        <input class="form-control" type="text" name="endereco" placeholder="Rua, número, bairro, cidade" required>
      </div>

      <div class="mb-4">
        <label class="form-label"><strong>Tem CNPJ?</strong></label><br>
        <input type="radio" name="cnpj" value="1" id="cnpjSim"> Sim
        <input class="ms-3" type="radio" name="cnpj" value="0" id="cnpjNao"> Não
      </div>

      <div class="mb-4" id="campoCnpj" style="display: none;">
        <label class="form-label" for="cnpj"><strong>Digite o CNPJ</strong></label>
        <input type="text" name="numero_cnpj" id="cnpj" class="form-control" placeholder="00.000.000/0000-00">
      </div>

      <div class="mb-4">
        <label class="form-label"><strong>Tem Funcionário?</strong></label><br>
        <input type="radio" name="funcionario" value="1"> Sim
        <input class="ms-3" type="radio" name="funcionario" value="0"> Não
      </div>

      <div class="mb-4">
        <label class="form-label"><strong>Quais parceiros comerciais?</strong></label>
        <input class="form-control" type="text" name="parceiros" placeholder="Digite os principais parceiros">
      </div>

      <div class="mb-4">
        <label class="form-label"><strong>Quanto compra por mês?</strong></label>
        <input class="form-control" type="number" name="compras" placeholder="Ex: 5000" required>
      </div>

      <div class="mb-4">
        <label class="form-label"><strong>Tem Contador?</strong></label><br>
        <input type="radio" name="contador" value="1"> Sim
        <input class="ms-3" type="radio" name="contador" value="0"> Não
      </div>

      <div class="mb-4">
        <label class="form-label"><strong>Pagam INSS?</strong></label><br>
        <input type="radio" name="inss" value="1"> Sim
        <input class="ms-3" type="radio" name="inss" value="0"> Não
      </div>

      <div class="mb-4">
        <label class="form-label"><strong>Observações:</strong></label>
        <textarea class="form-control" name="observacoes" rows="4" placeholder="Escreva observações relevantes, se houver."></textarea>
      </div>

      <div class="d-grid">
        <button type="submit" class="btn btn-success btn-lg">Enviar</button>
      </div>
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

  <script>
    IMask(document.getElementById('telefone'), {
      mask: '(00) 00000-0000'
    });

    IMask(document.getElementById('cnpj'), {
      mask: '00.000.000/0000-00'
    });

    const campoCnpj = document.getElementById('campoCnpj');
    document.getElementById('cnpjSim').addEventListener('change', () => campoCnpj.style.display = 'block');
    document.getElementById('cnpjNao').addEventListener('change', () => campoCnpj.style.display = 'none');
  </script>
    <script>
      const urlParams = new URLSearchParams(window.location.search);
      if (urlParams.get('sucesso') === 'true') {
        alert('Pesquisa foi adicionada com sucesso!');
      }
    </script>
</body>
</html>
